<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
    content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/stylesheet.css" type="text/css">
    <!--    Bootstrap icons inladen-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">

    <!--    Google icons inladen-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!--    Material inladen-->
    <link rel="stylesheet" href="https://unpkg.com/material-components-web@v4.0.0/dist/material-components-web.min.css">

    <!--Manifest inladen voor PWA-->
    <link rel="manifest" href="manifest.json">

    <link rel="icon" href="./images/P_icon.png">
    <title>Printpal Writing messages</title>

    <script type="module" src="js/pwa.js"></script>
    <script type="module" src="js/sendmessage.js"></script>
</head>
<body>
    <div class="container">
    <div class="header">
        <div class="left">
          <a href="home.html"><span class="material-icons">
              arrow_back_ios
              </span>   </a>   </div>
        <a href="profilepage.html">
      </div>
      </a>

    <div class="title_message">
        <h1>Write messages</h1>
    </div>

    <div class="message">
        <h1>Message</h1>
        <div id="form">
            <form>
                <label for="textarea">Write message</label>
                <textarea id="text" class="form-control" cols="50" rows="3"></textarea>
            </form>
        </div>
    </div>

    <div class="add">
        <button><a href="doodle.html"><span>Add doodle</span></a></button>
    </div>
    
    <div class="break">
        <div class="line"></div>
    </div>

    <h1 class="category_title">Category</h1>
    <div class="categories">
        <div class="category" id="category-item-1">
          <p>Motivation</p>
        </div>

        <div class="category" id="category-item-2">
          <p>Vent</p>
        </div>

        <div class="category" id="category-item-3">
          <p>Meme</p>
        </div>
      </div>

      <div class="categories">
        <div class="category" id="category-item-4">
          <p>Nice message</p>
        </div>

        <div class="category" id="category-item-5">
          <p>Storytime</p>
        </div>
      </div>

    <h1 class="settings">Settings</h1>
    <p class="accept">Accept response</p>
    <p class="stay">Stay anonymous</p>

    <label class="form-switch">
        <input type="checkbox">
        <i></i>
    </label>

    <label class="form-switch2">
        <input type="checkbox">
        <i></i>
    </label>


    <div class="send">
        <button id="btnDownload" id="btn-save" type="submit" class="btn btn-primary"><a href="me">Send message!</a></button>
    </div>

</div>
    
    
<script src="https://unpkg.com/material-components-web@v4.0.0/dist/material-components-web.min.js"></script>
<script src="./convert.js"></script>
<script type="text/javascript">
    function downloadFile(filename, content) {
     
      const element = document.createElement('a');
      
     
      const blob = new Blob([content], { type: 'plain/text' });
    
       
      const fileUrl = URL.createObjectURL(blob);
      
      
      element.setAttribute('href', fileUrl); //file location
      element.setAttribute('download', filename); // file name
      element.style.display = 'none';
      
       
      document.body.appendChild(element);
      element.click();
      
      
      document.body.removeChild(element);
    };
    
    window.onload = () => {
      document.getElementById('download').
      addEventListener('click', e => {
        
     
        const filename = document.getElementById('filename').value;
        
      
        const content = document.getElementById('text').value;
        
     
        if (filename && content) {
          downloadFile(filename, content);
        }
      });
    };
    </script>

</body>
</html>
